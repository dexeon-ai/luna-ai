ğŸ§µ Luna AI â€” Full Handoff Package (Local â†” Cloud Integration v3.0 â€” October 2025)
1ï¸âƒ£ ğŸŒŒ Core Vision

Luna AI is both:

a crypto-analysis AI companion (interactive token analyst + voice assistant), and

an animated character for live meme-coin streams on Pump.fun.

Two operating modes:

Mode	Description
ğŸ¥ Streaming Mode	OBS + Luna avatar overlays for Pump.fun episodes and token launch tie-ins
ğŸ’¬ Companion Mode	Interactive chat + voice assistant hosted on Flask backend

Game / Tokenomics Loop â€“ â€œLuna AI â€” 21 Questionsâ€

Each session = 21 questions per asset.
Token holders can extend sessions or unlock advanced analytics.
Session data + voice replies are ephemeral (cleared after use).
â€œCopy Allâ€ transcript button at end of session.

Ecosystem

Element	Utility
$LUNA	primary utility / staking token
$LUNAME	meme-token driver for community engagement
Luna NFTs	animated collectibles linked to Lunaâ€™s persona
Parent: Dexeon AI	umbrella for Luna AI, Bankroll AI, and other tokenized agents
2ï¸âƒ£ ğŸ§  System Overview â€” Two Integrated Halves
Layer	Purpose	Current Status
Local Data Engine	Builds and maintains cached OHLCV history for â‰ˆ 3,900 active coins	âœ… Fully operational
Cloud Web App	Flask + Matplotlib + ElevenLabs interface for analysis & voice	âœ… Live @ https://luna-ai-j4dn.onrender.com

These are now merged under one roadmap leading to the Luna Cockpit Control Panel (data service + UI).

3ï¸âƒ£ ğŸ–¥ Local Data Engine (â€œBrainâ€)

Root: C:\Users\jmpat\Desktop\Luna AI\

.env
data_historical_pull_full.py          # full-history puller (rotating CryptoCompare keys)
logs\
  historical_pull.log
  rejected_symbols.txt
luna_cache\data\
  coin_map.json
  coin_map_clean.json
  coin_map_active.json
  historical\*.json                   # per-symbol OHLCV caches
scripts\
  filter_valid_coins.py
  filter_active_coins.py
  clean_coinmap.py

Workflow
Step	Script	Output
1	filter_valid_coins.py	coin_map_clean.json (17 676 valid)
2	filter_active_coins.py	coin_map_active.json (3 886 active)
3	data_historical_pull_full.py	historical\SYMBOL.json (one per coin)
Puller Features

Rotates multiple CryptoCompare API keys automatically

Exponential backoff + safe resume (--start SYMBOL)

Detects duplicate pages (â€œğŸŒ€ Duplicate earliest timestamp detected twice â€” stopping.â€)

Skips existing files for safe reruns

Logs all runs â†’ logs/historical_pull.log

Example Record
{
  "coin_id": "aart",
  "symbol": "AART",
  "records": 22010,
  "source": "cryptocompare_histoday_full",
  "last_updated": "2025-10-23 21:05:22 UTC",
  "data": [
    { "time":1588377600,"open":0.009,"high":0.01,"low":0.008,"close":0.0095,"volumefrom":1000.0,"volumeto":9.3 }
  ]
}

.env Sample
# Market Data
CRYPTOCOMPARE_KEYS=key1,key2,key3,key4,key5
COINMARKETCAP_KEY=your_key
# Chain/Resolver
ETHERSCAN_API_KEY=your_key
BSCSCAN_API_KEY=your_key
HELIUS_API_KEY=your_key
COVALENT_API_KEY=your_key
BITQUERY_API_KEY=your_key
# Luna AI
OPENAI_API_KEY=your_key
ELEVENLABS_API_KEY=your_key
ELEVENLABS_VOICE_NAME=Jessica
ELEVENLABS_VOICE_ID=EXAVITQu4vr4xnSDxMaL

Run Book
cd "C:\Users\jmpat\Desktop\Luna AI\scripts"
python filter_valid_coins.py
python filter_active_coins.py
cd ..
python -u data_historical_pull_full.py          # full run
python -u data_historical_pull_full.py --start ONDO   # resume mid-alphabet


Monitor progress:

Get-Content logs\historical_pull.log -Wait

4ï¸âƒ£ â˜ï¸ Cloud Web App (â€œPersonalityâ€)

Environment: Render + GitHub Auto-Deploy
Backend: Flask v3.0.3
Frontend: Jinja / HTML + OBS Overlay + ElevenLabs Voice

Component	Status	Notes
Flask backend	âœ… Live	/qa, /analyze, /risk, /macro, /voice, /overlay
Auto-deploy GitHub â†’ Render	âœ…	Clean repo (no large MP4s)
Chart engine (Matplotlib)	âœ…	8-around-1 grid renders fine
Voice system (ElevenLabs)	âœ…	Fallback TTS ready
Session persistence (shelve)	âœ…	Cross-thread stable
CoinGecko API	âš ï¸ Rate-limited	Replace with free hybrid stack
CoinPaprika / CryptoRank	ğŸ”´ Pending	Integration next step
Hourly data refresh	ğŸ”´ Missing	Build data_refresh.py + cron
5ï¸âƒ£ âš™ï¸ Background Services (on Render)
Service	Purpose	Status
gunicorn	keeps Flask alive	âœ…
/tmp/overlays	chart storage	âœ…
shelve DB	session tokens	âœ…
data_refresh.py	hourly API â†’ cache update	ğŸ”´ todo
Multi-API connectors	CoinPaprika + CryptoRank + Binance	ğŸ”´ todo
6ï¸âƒ£ ğŸ§© Recent Changes

GitHub cleanup (>300 MB assets removed)

Flask 3.0.3 â†’ Render-compatible

Shelve sessions fixed (403 resolved)

New HTML/CSS grid layout based on Illustrator template

Plot Engine v10 (8-around-1 matrix)

API migration plan drafted

7ï¸âƒ£ ğŸ”„ Immediate Next Steps
Priority	Task	Details
ğŸŸ¢	Integrate CoinPaprika + CryptoRank	replace CoinGecko Pro
ğŸŸ¢	Build data_refresh.py + Render cron	hourly updates
ğŸŸ¡	Fix response template	layout + timestamps
ğŸŸ£	Secure API keys	Render env vars
ğŸŸ¢	Add Binance/Bybit feeds	live top 500 tickers
ğŸ”µ	Migrate to multi-API cache	hybrid data model
ğŸŸ 	Launch $LUNA + NFTs	tie-in with Pump.fun
ğŸŸ¡	Streaming integration	Luna live analytics episodes
8ï¸âƒ£ ğŸ§  Hybrid API Model Plan
API	Role	Limit	Keys	Cost
CoinPaprika	Main market data	âˆ	1	Free
CryptoRank.io	FDV / liquidity / rankings	â‰ˆ4 M/mo	1	Free
Binance	Live tickers	âˆ	0	Free
CoinGecko (Free)	Fallback for long tail	â‰ˆ43 k/mo	1â€“2	Free

â¡ â‰ˆ1 500 coins updated hourly for $0/month

9ï¸âƒ£ ğŸ§± Known Issues

429 rate-limits (CoinGecko) â†’ pending API swap

Chart grid misalignments â†’ minor HTML tweak

Timestamps index-based â†’ convert to datetime

Hourly refresh cron â†’ not yet implemented

ğŸ”Ÿ ğŸª„ Long-Term Roadmap
Phase	Focus
ğŸ¥	Full Pump.fun streaming integration
ğŸ’°	$LUNA + NFT launch
ğŸ§©	Native AI Voice engine (Coqui TTS / VITS)
ğŸ§ 	Smart Insight Mode â€“ Luna learns signals
ğŸ“ˆ	Public metrics API
âš™ï¸	Autoscaling Render â†’ AWS ECS / GCP Run
11ï¸âƒ£ ğŸ›° Upcoming Integrations â†’ â€œLuna Cockpitâ€
Module	Function
Contract Resolver	Map chain+contract â†’ symbol (via Etherscan/BSCSCan/Helius/Covalent/Bitquery)
Nightly Delta Updater	Append daily bars only
Data Store Conversion	JSON â†’ Parquet or SQLite for speed
Cockpit UI	Streamlit or FastAPI + React dashboard
Metrics Library	Rolling returns, vol / Sharpe, drawdown, BTC corr, breakout flags
Portfolio View	Wallet P&L tracking for Steve
Watchlists / Alerts	Volume spikes, ATH/ATL, breakouts
12ï¸âƒ£ ğŸ” Security / Ops Notes

Rotate any keys shared in chat.

Keep .env out of version control.

Nightly zip luna_cache\data\historical\ (back up 3-7 days).

Limit parallelism â‰¤ # API keys to avoid 429s.

âœ… Project Status Summary

GitHub + Render: Stable and deployable

Local Data Engine: Complete and resumable

Voice / Charts / Sessions: Operational

Remaining Critical Builds: API migration + hourly refresh

Next Phase: Luna Cockpit integration â†’ full autonomous loop

Once those final systems are online, Luna AI v3.0 will be a self-sustaining, cloud-native, tokenized AI analyst capable of powering live streams, meme-coin analysis, and data-driven storytelling across the Dexeon ecosystem.